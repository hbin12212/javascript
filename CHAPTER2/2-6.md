안녕하세요🤩

> 이번시간에는 자바스크립트의 함수에 대한 내용과 지역변수 그리고 외부변수에 대해 다뤄보도록 하겠습니다

# 함수

함수는 유사한 동작을 하는, 중복된 코드가 여기저기에 존재할 때, 이들을 하나로 묶어 하나의 명령으로 실행할 수 있게 해주는 기능입니다.

코드샌드박스를 통해 함수를 사용해보도록 하겠습니다.

## 작성법

먼저, 함수를 사용하지 않고 두 숫자를 더하는 코드를 작성해보겠습니다.

```js
let num1 = 10;
let num2 = 15;
let sum = num1 + num2;

console.log(sum); //25
```

두 개의 숫자를 더하는 코드는, 작성된 코드와 같이 두 변수에 각각의 숫자를 할당하고, 더하기 연산을 통해 두 숫자를 더한 값을 새로운 변수에 저장 후 출력해야합니다.

만약, 여기서 또 다른 숫자들을 더하는 연산을 추가로 실행해야한다면,

```js
let num1 = 10;
let num2 = 15;
let sum = num1 + num2;

console.log(sum); //25

let num3 = 1;
let num4 = 5;
let sum2 = num3 + num4;

console.log(sum2); //6
```

아래에 추가로 적힌 코드처럼, 같은 기능을 하는 코드를 반복해서 작성해야되기 때문에 코드 길이도 상당히 길어지고, 작성하기 번거롭다는 단점이 있습니다.

이렇게 같은 코드를 반복해서 작성해야할 때, 우리는 반복되는 코드를 하나의 함수로 묶어서 작성합니다.

### 함수 선언, 호출, 매개변수, 반환

```js
function add(num1, num2) {
    console.log(num1 + num2);
}

let sum1 = add(10, 15); // 25
let sum2 = add(5, 5); // 10
```

함수는 이렇게 `function` 이라는 키워드를 통해 작성 가능하며, function의 오른쪽 부분에 함수의 이름을 작성합니다.

함수 이름의 오른쪽에는 함수에 전달할 값들을 괄호안에 작성해주는데 이를 `매개변수` 라고 부르며,

함수를 호출할 때에는, 먼저 이렇게 함수의 이름을 적고, 그다음 매개변수로 넣을 인수들을 알맞게 작성해주면 됩니다.

변수 sum1의 경우에는, add라는 이름의 함수를 호출하고, 인수로 숫자 10과 숫자 15를 전달해, 10과 15를 더한 값인 25가 출력되는 것을 볼 수 있습니다.

마찬가지로 sum2의 경우에는 add함수를 통해 숫자 10이 출력되게 됩니다.

### Early return pattern

함수 내부에서는 `return` 을 이용해 함수의 결과값을 반환할 수 있습니다.

add 함수 내부에 매개변수 num1과 num2를 더한 값을 반환하는 return문을 작성한 다음,

return문 아래에 "함수 호출" 이라는 문장을 출력하는 코드를 추가해보겠습니다.

```js
function add(num1, num2) {
    return num1 + num2;
    console.log("함수 호출"); // 실행X
}

let sum1 = console.log(add(10, 15)); // 25
let sum2 = console.log(add(5, 5)); // 10
```

코드를 실행시켜보면, add 함수 내부에 있는 console.log 가 실행이 되지 않는 것을 확인 할 수 있습니다.

그 이유는 이렇게 return 문을 작성하게 되면, return 문 아래에 작성된 코드들은 실행되지 않은채로 함수가 종료되기 때문입니다.

return문을 사용할 때에는, 실행되어야 하는 코드들은 모두 return문 위에 작성해줘야합니다.

함수 내부에서의 return 문은 얼리 리턴 패턴(Early return pattern)으로 자주 사용되기도 합니다.

얼리 리턴 패턴이란 어떤 것인지 배워보도록 하겠습니다.

```js
function func(num) {
    if (num > 0) {
        if (num >= 10) {
            console.log("num의 값이 10보다 크거나 같습니다.");
        } else {
            console.log("num의 값이 0보다 크고 10보다 작습니다.");
        }
    } else if (num === 0) {
        console.log("num의 값이 0입니다.");
    } else {
        console.log("num의 값이 0보다 작습니다.");
    }
}

func(3);
```

작성된 코드는 특정 숫자가 10보다 큰지 작은지, 0보다 큰지 작은지를 출력하는 함수입니다.

코드를 보면, 일단 코드 해석이 한 번에 되지 않고, 가독성이 좋지 않아 복잡해보인다고 느끼실겁니다.

그럼 이번엔, 같은 기능을 하는 코드를 얼리 리턴 패턴으로 작성해보겠습니다.

```js
function func(num) {
    if (num === 0) return "num의 값이 0입니다.";
    if (num < 0) return "num의 값이 0보다 작습니다.";
    if (num >= 10) return "num의 값이 10보다 크거나 같습니다.";
    return "num의 값이 0보다 크고 10보다 작습니다";
}

console.log(func(3));
```

해당 코드가 이전에 작성했던 코드보다 훨씬 읽기도 수월하고 깔끔해졌다고 느끼실겁니다.

얼리 리턴 패턴이란 이렇게 else문을 사용하지 않고, if 와 return으로만 코드를 작성하며,

특정 조건문을 만족하게 되면 바로 return을 하기 때문에, 이후에 작성된 조건을 생각하지 않아도 되는, 코드의 구조를 단순하게 만들어주는 패턴이라고 할 수 있습니다.

얼리 리턴 패턴은 이렇게 함수에서 사용되는 방식으로, 보다 쉽게 코드를 해석할 수 있어 가독성이 좋아지기 때문에 자주 사용되는 패턴입니다.

> ### IIFE 함수
>
> IIFE 함수는 우리가 배운 함수와는 다르게 호출을 통한 실행이 아닌, 정의되자마자 즉시 실행되는 `즉시 실행 함수` 입니다.

```js
(function () {
    console.log("자바스크립트");
})();
```

> IIFE 함수는 위의 코드와 같이 작성되며 이 즉시 실행 함수를 왜 사용하는지, 언제 사용되는지는 나중에 다시 다뤄보도록 하겠습니다.

## 코드의 흐름

지금까지 자바스크립트의 함수에 대해 배워보았습니다.

그렇다면 이번엔, 긴 코드의 중간에서 함수를 선언하고 호출하게 되면, 코드의 흐름이 어떻게 흘러가는지에 대해 배우면서,

지역변수와 외부변수에 대한 내용까지 배워보도록 하겠습니다.

```js
function func() {
    console.log("2");
    console.log("3");
}

console.log("1");
func();
console.log("4");
```

다음과 같이 예제 코드를 작성해보았는데요, 해당 코드를 실행시켜보겠습니다.

맨 위에 func 라는 이름을 가진 함수가 선언되어있기는 하지만, 아직 호출되지 않았으므로, func함수의 바로 아래있는 console.log("1") 가 먼저 실행되게 됩니다.

그 다음 func함수의 호출을 통해 2와 3이 순서대로 출력되며, 함수가 종료된 다음 console.log("4") 를 통해 4 가 출력되게 됩니다.

이렇게 함수는 어디에서 호출하는지에 따라 실행되는 코드의 순서가 달라지기 때문에, 자바스크립트의 함수를 선언하고 호출할 때에는 알맞은 위치에서 실행해야 합니다.

## 지역변수

다음으로는 지역변수에 대해 알아보도록 하겠습니다.

지역변수는 함수 블록의 내부에서만 유효한 변수를 뜻합니다.

함수 블록이 무엇인지, 내부에서만 유효한 변수가 무엇인지 알아보겠습니다.

```js
function add(num1, num2) {
    let sum = num1 + num2;
    return sum;
}

console.log(sum);
```

매개변수로 받은 두 개의 숫자를 더한 값을 반환하는 add 함수를 작성해봤습니다.

함수 add 내부에 있는 변수인 sum 변수를 외부에서 접근할 수 없기 때문에 ERROR 가 발생하게 됩니다.

add 함수 내부에 있는 sum 변수 처럼, `지역변수`란 함수 블록 내부에서만 유효한 변수를 뜻합니다.

## 외부변수

이렇게 함수 내에서 선언된 변수들은 함수 외부에서는 접근이 불가능합니다.

하지만 반대로, 함수 외부에서 선언한 변수를 함수 안에서는 접근 할 수 있습니다.

아래의 예시로 확인해보겠습니다.

```js
let sum = 0;

function add(num1, num2) {
    sum = num1 + num2;
}

add(10, 15);
console.log(sum); //25
```

위의 코드에서 sum 변수는 add 함수의 외부에 선언되어있으며,
add 함수 내부에서 더하기 연산을 통해 값이 변경된 것을 볼 수 있습니다.

이처럼 함수 외부에 선언되어 어디서나 접근 가능한 변수를 `전역변수` , `외부변수` 라고 부릅니다.
